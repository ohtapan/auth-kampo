{"id":"node_modules/@aws-amplify/cache/lib/Utils/CacheUtils.js","dependencies":[{"name":"C:\\Users\\太田遥人\\Desktop\\auth-kampo\\node_modules\\@aws-amplify\\cache\\lib\\Utils\\CacheUtils.js.map","includedInParent":true,"mtime":1557861850000},{"name":"C:\\Users\\太田遥人\\Desktop\\auth-kampo\\node_modules\\@aws-amplify\\cache\\src\\Utils\\CacheUtils.ts","includedInParent":true,"mtime":1557861739000},{"name":"C:\\Users\\太田遥人\\Desktop\\auth-kampo\\node_modules\\@aws-amplify\\cache\\package.json","includedInParent":true,"mtime":1560308010599},{"name":"@aws-amplify/core","loc":{"line":15,"column":21},"parent":"C:\\Users\\太田遥人\\Desktop\\auth-kampo\\node_modules\\@aws-amplify\\cache\\lib\\Utils\\CacheUtils.js","resolved":"C:\\Users\\太田遥人\\Desktop\\auth-kampo\\node_modules\\@aws-amplify\\core\\lib\\index.js"}],"generated":{"js":"\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\n/**\n* Default cache config\n*/\nexports.defaultConfig = {\n    keyPrefix: 'aws-amplify-cache',\n    capacityInBytes: 1048576,\n    itemMaxSize: 210000,\n    defaultTTL: 259200000,\n    defaultPriority: 5,\n    warningThreshold: 0.8,\n    // the storage helper will check if localStorage exists,\n    // if not, will use a in-memory object instead\n    storage: new core_1.StorageHelper().getStorage()\n};\n/**\n * return the byte size of the string\n * @param str\n */\nfunction getByteLength(str) {\n    var ret = 0;\n    ret = str.length;\n    for (var i = str.length; i >= 0; i -= 1) {\n        var charCode = str.charCodeAt(i);\n        if (charCode > 0x7f && charCode <= 0x7ff) {\n            ret += 1;\n        }\n        else if (charCode > 0x7ff && charCode <= 0xffff) {\n            ret += 2;\n        }\n        // trail surrogate\n        if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\n            i -= 1;\n        }\n    }\n    return ret;\n}\nexports.getByteLength = getByteLength;\n/**\n * get current time\n */\nfunction getCurrTime() {\n    var currTime = new Date();\n    return currTime.getTime();\n}\nexports.getCurrTime = getCurrTime;\n/**\n * check if passed value is an integer\n */\nfunction isInteger(value) {\n    if (Number.isInteger) {\n        return Number.isInteger(value);\n    }\n    return _isInteger(value);\n}\nexports.isInteger = isInteger;\nfunction _isInteger(value) {\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n/**\n * provide an object as the in-memory cache\n */\nvar store = {};\nvar CacheObject = /** @class */ (function () {\n    function CacheObject() {\n    }\n    CacheObject.clear = function () {\n        store = {};\n    };\n    CacheObject.getItem = function (key) {\n        return store[key] || null;\n    };\n    CacheObject.setItem = function (key, value) {\n        store[key] = value;\n    };\n    CacheObject.removeItem = function (key) {\n        delete store[key];\n    };\n    return CacheObject;\n}());\nexports.CacheObject = CacheObject;\n"},"sourceMaps":{"js":{"version":3,"file":"CacheUtils.js","sourceRoot":"","sources":["../../src/Utils/CacheUtils.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;GAWG;;AAGH,0CAAkD;AAClD;;EAEE;AACW,QAAA,aAAa,GAAgB;IACtC,SAAS,EAAE,mBAAmB;IAC9B,eAAe,EAAE,OAAO;IACxB,WAAW,EAAE,MAAM;IACnB,UAAU,EAAE,SAAS;IACrB,eAAe,EAAE,CAAC;IAClB,gBAAgB,EAAE,GAAG;IACrB,wDAAwD;IACxD,8CAA8C;IAC9C,OAAO,EAAE,IAAI,oBAAa,EAAE,CAAC,UAAU,EAAE;CAC5C,CAAC;AAEF;;;GAGG;AACH,uBAA8B,GAAW;IACrC,IAAI,GAAG,GAAW,CAAC,CAAC;IACpB,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;IAEjB,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QACrC,IAAM,QAAQ,GAAW,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAI,QAAQ,GAAG,IAAI,IAAI,QAAQ,IAAI,KAAK,EAAE;YACtC,GAAG,IAAI,CAAC,CAAC;SACZ;aAAM,IAAI,QAAQ,GAAG,KAAK,IAAI,QAAQ,IAAI,MAAM,EAAE;YAC/C,GAAG,IAAI,CAAC,CAAC;SACZ;QACD,kBAAkB;QAClB,IAAI,QAAQ,IAAI,MAAM,IAAI,QAAQ,IAAI,MAAM,EAAE;YAC1C,CAAC,IAAI,CAAC,CAAC;SACV;KACJ;IAED,OAAO,GAAG,CAAC;AACf,CAAC;AAlBD,sCAkBC;AAED;;GAEG;AACH;IACI,IAAM,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;IAC5B,OAAO,QAAQ,CAAC,OAAO,EAAE,CAAC;AAC9B,CAAC;AAHD,kCAGC;AAED;;GAEG;AACH,mBAA0B,KAAK;IAC3B,IAAI,MAAM,CAAC,SAAS,EAAE;QAClB,OAAO,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KAClC;IAED,OAAO,UAAU,CAAC,KAAK,CAAC,CAAC;AAC7B,CAAC;AAND,8BAMC;AAED,oBAAoB,KAAK;IACrB,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC;AACvF,CAAC;AAED;;GAEG;AACH,IAAI,KAAK,GAAG,EAAE,CAAC;AACf;IAAA;IAgBA,CAAC;IAfU,iBAAK,GAAZ;QACI,KAAK,GAAG,EAAE,CAAC;IACf,CAAC;IAEM,mBAAO,GAAd,UAAe,GAAW;QACtB,OAAO,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC;IAC9B,CAAC;IAEM,mBAAO,GAAd,UAAe,GAAW,EAAE,KAAa;QACrC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IACvB,CAAC;IAEM,sBAAU,GAAjB,UAAkB,GAAW;QACzB,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC;IACL,kBAAC;AAAD,CAAC,AAhBD,IAgBC;AAhBY,kCAAW","sourcesContent":["/*\r\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\n\r\nimport { CacheConfig, CacheItem, CacheItemOptions } from '../types';\r\nimport { StorageHelper } from '@aws-amplify/core';\r\n/**\r\n* Default cache config\r\n*/\r\nexport const defaultConfig: CacheConfig = {\r\n    keyPrefix: 'aws-amplify-cache',\r\n    capacityInBytes: 1048576, // 1MB\r\n    itemMaxSize: 210000, // about 200kb\r\n    defaultTTL: 259200000, // about 3 days\r\n    defaultPriority: 5,\r\n    warningThreshold: 0.8,\r\n    // the storage helper will check if localStorage exists,\r\n    // if not, will use a in-memory object instead\r\n    storage: new StorageHelper().getStorage()\r\n};\r\n\r\n/**\r\n * return the byte size of the string\r\n * @param str\r\n */\r\nexport function getByteLength(str: string): number {\r\n    let ret: number = 0;\r\n    ret = str.length;\r\n\r\n    for (let i = str.length; i >= 0; i -= 1) {\r\n        const charCode: number = str.charCodeAt(i);\r\n        if (charCode > 0x7f && charCode <= 0x7ff) {\r\n            ret += 1;\r\n        } else if (charCode > 0x7ff && charCode <= 0xffff) {\r\n            ret += 2;\r\n        }\r\n        // trail surrogate\r\n        if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n            i -= 1;\r\n        }\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\n/**\r\n * get current time\r\n */\r\nexport function getCurrTime(): number {\r\n    const currTime = new Date();\r\n    return currTime.getTime();\r\n}\r\n\r\n/**\r\n * check if passed value is an integer\r\n */\r\nexport function isInteger(value): boolean {\r\n    if (Number.isInteger) {\r\n        return Number.isInteger(value);\r\n    }\r\n\r\n    return _isInteger(value);\r\n}\r\n\r\nfunction _isInteger(value): boolean {\r\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\r\n}\r\n\r\n/**\r\n * provide an object as the in-memory cache\r\n */\r\nlet store = {};\r\nexport class CacheObject {\r\n    static clear(): void {\r\n        store = {};\r\n    }\r\n\r\n    static getItem(key: string): string | null {\r\n        return store[key] || null;\r\n    }\r\n\r\n    static setItem(key: string, value: string): void {\r\n        store[key] = value;\r\n    }\r\n\r\n    static removeItem(key: string): void {\r\n        delete store[key];\r\n    }\r\n}\r\n"]}},"error":null,"hash":"e7ecb1a8cebd05fbba560f9e229f40f6","cacheData":{"env":{}}}